import{T as Y,K as H}from"./TextSection-DG0N2oy4.js";import{S as J,W as Q,G as $,c as g,V as w,P as tt,e as A,L as et,B as ot,a as st,C as nt,R as at}from"./ReferenceSection-D6c7GlwJ.js";import{_ as B,o as P,c as R,a as n,w as u,d as h,t as it,e as rt,g as f,h as x,b as d}from"./index-BiplcZ17.js";const m=new J,c=new Q({alpha:!0}),p=new nt,V=800,b="lorenz",lt={data(){return{camera:void 0,lorenzData:{isStarted:!1,position:{x:0,y:1,z:0},params:{sigma:10,rho:28,beta:8/3,dt:.001},time:0}}},watch:{"lorenzData.params":{handler(s){p.start(),this.clearLorenzLine()},deep:!0}},computed:{elapsedTime(){return this.lorenzData.time.toFixed(2)}},methods:{lorenz(s,t,e,a,o,r,i){const l=o*(e-t),z=t*(r-a)-e,y=t*e-i*a;return{dxdt:l,dydt:z,dzdt:y}},rk4(s,t,e,a,o,r,i,l){const{dxdt:z,dydt:y,dzdt:E}=this.lorenz(s,t,e,a,r,i,l),v=o*z,D=o*y,L=o*E,{dxdt:I,dydt:N,dzdt:F}=this.lorenz(s+.5*o,t+.5*v,e+.5*D,a+.5*L,r,i,l),k=o*I,S=o*N,C=o*F,{dxdt:U,dydt:q,dzdt:O}=this.lorenz(s+.5*o,t+.5*k,e+.5*S,a+.5*C,r,i,l),_=o*U,M=o*q,T=o*O,{dxdt:G,dydt:K,dzdt:j}=this.lorenz(s+o,t+_,e+M,a+T,r,i,l),W=o*G,Z=o*K,X=o*j;return t+=(v+2*k+2*_+W)/6,e+=(D+2*S+2*M+Z)/6,a+=(L+2*C+2*T+X)/6,{x:t,y:e,z:a}},animateScene(){if(this.camera){if(this.lorenzData.isStarted){const s=this.lorenzData.position,t=p.getDelta(),e=p.elapsedTime;this.lorenzData.time=e,this.lorenzData.position=this.rk4(e,s.x,s.y,s.z,t,this.lorenzData.params.sigma,this.lorenzData.params.rho,this.lorenzData.params.beta),this.addPoint(this.lorenzData.position)}c.render(m,this.camera)}},setCoordinate(){const s=new $,t=4;s.add(g({x:t,y:0},{x:-t,y:0},15146783)),s.add(g({x:0,y:-t},{x:0,y:t},2056935)),s.add(g({x:0,y:0,z:-t},{x:0,y:0,z:t},2090836)),m.add(s)},setOrbitControl(){const s=this.camera;let t=!1;document.addEventListener("mousedown",function(){t=!0}),document.addEventListener("mouseup",function(){t=!1});let e=100,a=Math.PI/2,o=Math.PI/2;this.$refs.scene.addEventListener("mousemove",function(i){if(t){let l=.005;o-=i.movementX*l,a-=i.movementY*l,a=Math.max(.01,Math.min(Math.PI-.01,a)),s.position.x=e*Math.sin(a)*Math.cos(o),s.position.y=e*Math.cos(a),s.position.z=e*Math.sin(a)*Math.sin(o),s.lookAt(new w(0,0,0))}})},initRenderer(){const s=this.$refs.scene;this.camera=new tt(75,800/800,.1,1e3),this.camera.position.set(0,0,100),this.camera.lookAt(0,0,0),c.setSize(V,V),s.appendChild(c.domElement),c.render(m,this.camera),c.setClearColor(0,0),c.setAnimationLoop(this.animateScene)},addPoint(s){const t=m.getObjectByName(b),e=t.geometry.attributes.position.array,a=e.length;let o=new Float32Array(a+3);o.set(e),o[a]=s.x,o[a+1]=s.y,o[a+2]=s.z,t.geometry.setAttribute("position",new A(o,3)),t.geometry.setDrawRange(0,e.length/3),t.geometry.attributes.position.needsUpdate=!0},clearLorenzLine(){this.lorenzData.position={x:0,y:1,z:0};const s=m.getObjectByName(b);let t=new Float32Array(3);s.geometry.setAttribute("position",new A(t,3)),s.geometry.setFromPoints([new w(0,1,0)]),s.geometry.attributes.position.needsUpdate=!0},setLorenzLine(){const s=new et({color:0}),t=new ot,e=new st(t,s);e.geometry.setFromPoints([new w(0,1,0)]),e.name=b,m.add(e)},startCalculation(){this.lorenzData.isStarted=!this.lorenzData.isStarted,this.lorenzData.isStarted?(p.start(),this.clearLorenzLine()):p.stop()}},mounted(){this.initRenderer(),this.setCoordinate(),this.setOrbitControl(),this.setLorenzLine()}},dt={class:"container"},mt={class:"nview"},ct={class:"control"},pt={class:"lorenz-param"},ut={class:"form-group"},ht={class:"form-group"},ft={class:"form-group"},zt={class:"form-group"},yt={class:"form-group"},gt={class:"scene",ref:"scene"};function wt(s,t,e,a,o,r){return P(),R("div",dt,[n("div",mt,[n("div",ct,[n("div",pt,[n("div",ut,[t[5]||(t[5]=n("label",null,"Time",-1)),u(n("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>r.elapsedTime=i),placeholder:"edit me",disabled:""},null,512),[[h,r.elapsedTime]])]),n("div",ht,[t[6]||(t[6]=n("label",null,"Sigma",-1)),u(n("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>o.lorenzData.params.sigma=i),placeholder:"edit me"},null,512),[[h,o.lorenzData.params.sigma]])]),n("div",ft,[t[7]||(t[7]=n("label",null,"Beta",-1)),u(n("input",{"onUpdate:modelValue":t[2]||(t[2]=i=>o.lorenzData.params.beta=i),placeholder:"edit me"},null,512),[[h,o.lorenzData.params.beta]])]),n("div",zt,[t[8]||(t[8]=n("label",null,"Rayleigh number",-1)),u(n("input",{"onUpdate:modelValue":t[3]||(t[3]=i=>o.lorenzData.params.rho=i),placeholder:"edit me"},null,512),[[h,o.lorenzData.params.rho]])]),n("div",yt,[n("button",{class:"start-button",onClick:t[4]||(t[4]=(...i)=>r.startCalculation&&r.startCalculation(...i))},it(o.lorenzData.isStarted?"stop":"start"),1)])])]),n("div",gt,null,512)])])}const xt=B(lt,[["render",wt],["__scopeId","data-v-261048de"]]),bt={class:"main-wrap"},vt=rt({__name:"LorenzView",setup(s){return(t,e)=>(P(),R("main",null,[n("div",bt,[e[5]||(e[5]=n("h1",{class:"mb-1"},"Lorenz Equations",-1)),f(Y,null,{content:x(()=>[e[1]||(e[1]=d(" The Lorenz equation was originally derived to model thermal convection. It describes the motion of an incompressible fluid in a space where the temperature is higher at the top and lower at the bottom (Rayleigh-Bénard flow). This equation arises in the analysis of planetary instability, thermal convection, laser modeling, Malkus's water wheel, etc... It has also become one of the foundational examples of chaos theory, illustrating how small changes in initial conditions can lead to vastly different outcomes. The system is written as a derivative with respect to time as follows: ")),f(H,{center:"",class:"mt-1"},{default:x(()=>e[0]||(e[0]=[d(" \\text{x}= \\left( \\begin{aligned} x \\\\ y \\\\ z \\end{aligned} \\right), F= \\left( \\begin{aligned} \\sigma (x-y) \\\\ rx - y - xz \\\\ xy - \\beta z \\end{aligned} \\right) "),n("br",{class:"mt-1"},null,-1),d(" \\dot{\\text{x}} = F \\left\\{ \\begin{array}{l} \\dot{x} = \\sigma (x-y) \\\\ \\dot{y} = rx - y - xz \\\\ \\dot{z} = xy - \\beta z \\end{array} \\right. ")])),_:1}),e[2]||(e[2]=n("p",{class:"caption mb-4"}," σ is the Prandtl number, r is the Rayleigh number and β is a geometric factor ",-1)),e[3]||(e[3]=d(" The following example employs the fourth-order Runge-Kutta method, starting from the initial point [0, 1, 0]. "))]),_:1}),f(xt,{class:"separate mt-2"}),f(at,{class:"mt-2"},{default:x(()=>e[4]||(e[4]=[d(" The Lorenz Equations: Bifurcations, Chaos, and Strange Attractors (Applied Mathematical Sciences, Vol. 41)"),n("br",null,null,-1),d(" https://www2.physics.ox.ac.uk/sites/default/files/profiles/read/lect6-43147.pdf"),n("br",null,null,-1),d(" https://mathworld.wolfram.com/LorenzAttractor.html "),n("br",null,null,-1),d(" https://mathworld.wolfram.com/LorenzEquations.html"),n("br",null,null,-1),d(" https://mathworld.wolfram.com/Runge-KuttaMethod.html"),n("br",null,null,-1)])),_:1})])]))}}),St=B(vt,[["__scopeId","data-v-dae66fa4"]]);export{St as default};
