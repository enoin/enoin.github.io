import{T as Z,K as Q}from"./TextSection-F1_0tRGh.js";import{_ as v,o as _,c as L,a as o,t as E,w as h,d as g,e as Y,g as p,h as w,b as d}from"./index-gM60Fbxl.js";import{S as J,W as ee,G as te,c as y,V as b,P as se,e as V,L as ne,B as oe,a as ae,C as ie,R as re}from"./ReferenceSection-BKt_mUHZ.js";const le="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20261.76%20226.69'%3e%3cpath%20d='M161.096.001l-30.225%2052.351L100.647.001H-.005l130.877%20226.688L261.749.001z'%20fill='%2341b883'/%3e%3cpath%20d='M161.096.001l-30.225%2052.351L100.647.001H52.346l78.526%20136.01L209.398.001z'%20fill='%2334495e'/%3e%3c/svg%3e",de="/assets/lorenz-Cs6Xk34O.png",ce="/assets/smile.jpg-Ck3cSMHQ.webp",me={props:{imgSrc:{type:String,required:!0},caption:String},computed:{imgUrl(){return new URL(Object.assign({"/src/assets/image/logo.svg":le,"/src/assets/image/lorenz.png":de,"/src/assets/image/smile.jpg.webp":ce})[`/src/assets/image/${this.imgSrc}`],import.meta.url).href}}},pe={class:"wrapper"},ue=["src"],he={class:"caption"};function ge(n,e,t,a,s,r){return _(),L("div",pe,[o("img",{src:r.imgUrl},null,8,ue),o("div",he,E(t.caption),1)])}const fe=v(me,[["render",ge],["__scopeId","data-v-b912618b"]]),c=new J,m=new ee({alpha:!0}),u=new ie,P=800,x="lorenz",ze={data(){return{camera:void 0,lorenzData:{isStarted:!1,position:{x:0,y:1,z:0},params:{sigma:10,rho:28,beta:8/3,dt:.001},time:0}}},watch:{"lorenzData.params":{handler(n){u.start(),this.clearLorenzLine()},deep:!0}},computed:{elapsedTime(){return this.lorenzData.time.toFixed(2)}},methods:{lorenz(n,e,t,a,s,r,i){const l=s*(t-e),f=e*(r-a)-t,z=e*t-i*a;return{dxdt:l,dydt:f,dzdt:z}},rk4(n,e,t,a,s,r,i,l){const{dxdt:f,dydt:z,dzdt:I}=this.lorenz(n,e,t,a,r,i,l),D=s*f,S=s*z,k=s*I,{dxdt:U,dydt:N,dzdt:F}=this.lorenz(n+.5*s,e+.5*D,t+.5*S,a+.5*k,r,i,l),C=s*U,M=s*N,T=s*F,{dxdt:O,dydt:q,dzdt:j}=this.lorenz(n+.5*s,e+.5*C,t+.5*M,a+.5*T,r,i,l),A=s*O,B=s*q,R=s*j,{dxdt:G,dydt:K,dzdt:$}=this.lorenz(n+s,e+A,t+B,a+R,r,i,l),H=s*G,W=s*K,X=s*$;return e+=(D+2*C+2*A+H)/6,t+=(S+2*M+2*B+W)/6,a+=(k+2*T+2*R+X)/6,{x:e,y:t,z:a}},animateScene(){if(this.camera){if(this.lorenzData.isStarted){const n=this.lorenzData.position,e=u.getDelta(),t=u.elapsedTime;this.lorenzData.time=t,this.lorenzData.position=this.rk4(t,n.x,n.y,n.z,e,this.lorenzData.params.sigma,this.lorenzData.params.rho,this.lorenzData.params.beta),this.addPoint(this.lorenzData.position)}m.render(c,this.camera)}},setCoordinate(){const n=new te,e=4;n.add(y({x:e,y:0},{x:-e,y:0},15146783)),n.add(y({x:0,y:-e},{x:0,y:e},2056935)),n.add(y({x:0,y:0,z:-e},{x:0,y:0,z:e},2090836)),c.add(n)},setOrbitControl(){const n=this.camera;let e=!1;document.addEventListener("mousedown",function(){e=!0}),document.addEventListener("mouseup",function(){e=!1});let t=100,a=Math.PI/2,s=Math.PI/2;this.$refs.scene.addEventListener("mousemove",function(i){if(e){let l=.005;s-=i.movementX*l,a-=i.movementY*l,a=Math.max(.01,Math.min(Math.PI-.01,a)),n.position.x=t*Math.sin(a)*Math.cos(s),n.position.y=t*Math.cos(a),n.position.z=t*Math.sin(a)*Math.sin(s),n.lookAt(new b(0,0,0))}})},initRenderer(){const n=this.$refs.scene;this.camera=new se(75,800/800,.1,1e3),this.camera.position.set(0,0,100),this.camera.lookAt(0,0,0),m.setSize(P,P),n.appendChild(m.domElement),m.render(c,this.camera),m.setClearColor(0,0),m.setAnimationLoop(this.animateScene)},addPoint(n){const e=c.getObjectByName(x),t=e.geometry.attributes.position.array,a=t.length;let s=new Float32Array(a+3);s.set(t),s[a]=n.x,s[a+1]=n.y,s[a+2]=n.z,e.geometry.setAttribute("position",new V(s,3)),e.geometry.setDrawRange(0,t.length/3),e.geometry.attributes.position.needsUpdate=!0},clearLorenzLine(){this.lorenzData.position={x:0,y:1,z:0};const n=c.getObjectByName(x);let e=new Float32Array(3);n.geometry.setAttribute("position",new V(e,3)),n.geometry.setFromPoints([new b(0,1,0)]),n.geometry.attributes.position.needsUpdate=!0},setLorenzLine(){const n=new ne({color:0}),e=new oe,t=new ae(e,n);t.geometry.setFromPoints([new b(0,1,0)]),t.name=x,c.add(t)},startCalculation(){this.lorenzData.isStarted=!this.lorenzData.isStarted,this.lorenzData.isStarted?(u.start(),this.clearLorenzLine()):u.stop()}},mounted(){this.initRenderer(),this.setCoordinate(),this.setOrbitControl(),this.setLorenzLine()}},we={class:"container"},ye={class:"nview"},be={class:"control"},xe={class:"lorenz-param"},ve={class:"form-group"},_e={class:"form-group"},Le={class:"form-group"},De={class:"form-group"},Se={class:"form-group"},ke={class:"scene",ref:"scene"};function Ce(n,e,t,a,s,r){return _(),L("div",we,[o("div",ye,[o("div",be,[o("div",xe,[o("div",ve,[e[5]||(e[5]=o("label",null,"Time",-1)),h(o("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>r.elapsedTime=i),placeholder:"edit me",disabled:""},null,512),[[g,r.elapsedTime]])]),o("div",_e,[e[6]||(e[6]=o("label",null,"Sigma",-1)),h(o("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>s.lorenzData.params.sigma=i),placeholder:"edit me"},null,512),[[g,s.lorenzData.params.sigma]])]),o("div",Le,[e[7]||(e[7]=o("label",null,"Beta",-1)),h(o("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>s.lorenzData.params.beta=i),placeholder:"edit me"},null,512),[[g,s.lorenzData.params.beta]])]),o("div",De,[e[8]||(e[8]=o("label",null,"Rayleigh number",-1)),h(o("input",{"onUpdate:modelValue":e[3]||(e[3]=i=>s.lorenzData.params.rho=i),placeholder:"edit me"},null,512),[[g,s.lorenzData.params.rho]])]),o("div",Se,[o("button",{class:"start-button",onClick:e[4]||(e[4]=(...i)=>r.startCalculation&&r.startCalculation(...i))},E(s.lorenzData.isStarted?"stop":"start"),1)])])]),o("div",ke,null,512)])])}const Me=v(ze,[["render",Ce],["__scopeId","data-v-261048de"]]),Te=Y({__name:"LorenzView",setup(n){return(e,t)=>(_(),L("main",null,[t[5]||(t[5]=o("h1",{class:"center"},"Lorenz Equations",-1)),p(fe,{imgSrc:"lorenz.png",class:"lorenz"}),p(Z,null,{content:w(()=>[t[1]||(t[1]=d(" The Lorenz equation was originally derived to model thermal convection. It describes the motion of an incompressible fluid in a space where the temperature is higher at the top and lower at the bottom (Rayleigh-Bénard flow). This equation arises in the analysis of planetary instability, thermal convection, laser modeling, Malkus's water wheel, etc... It has also become one of the foundational examples of chaos theory, illustrating how small changes in initial conditions can lead to vastly different outcomes. The system is written as a derivative with respect to time as follows: ")),p(Q,{center:"",class:"mt-1"},{default:w(()=>t[0]||(t[0]=[d(" \\text{x}= \\left( \\begin{aligned} x \\\\ y \\\\ z \\end{aligned} \\right), F= \\left( \\begin{aligned} \\sigma (x-y) \\\\ rx - y - xz \\\\ xy - \\beta z \\end{aligned} \\right) "),o("br",{class:"mt-1"},null,-1),d(" \\dot{\\text{x}} = F \\left\\{ \\begin{array}{l} \\dot{x} = \\sigma (x-y) \\\\ \\dot{y} = rx - y - xz \\\\ \\dot{z} = xy - \\beta z \\end{array} \\right. ")])),_:1}),t[2]||(t[2]=o("p",{class:"caption mb-4"}," σ is the Prandtl number, r is the Rayleigh number and β is a geometric factor ",-1)),t[3]||(t[3]=d(" The following example uses the fourth-order Runge-Kutta method with initial point [0, 1, 0]. "))]),_:1}),p(Me,{class:"separate mt-2"}),p(re,null,{default:w(()=>t[4]||(t[4]=[d(" The Lorenz Equations: Bifurcations, Chaos, and Strange Attractors (Applied Mathematical Sciences, Vol. 41)"),o("br",null,null,-1),d(" https://www2.physics.ox.ac.uk/sites/default/files/profiles/read/lect6-43147.pdf"),o("br",null,null,-1),d(" https://mathworld.wolfram.com/LorenzAttractor.html "),o("br",null,null,-1),d(" https://mathworld.wolfram.com/LorenzEquations.html"),o("br",null,null,-1),d(" https://mathworld.wolfram.com/Runge-KuttaMethod.html"),o("br",null,null,-1)])),_:1})]))}}),Ve=v(Te,[["__scopeId","data-v-648856df"]]);export{Ve as default};
