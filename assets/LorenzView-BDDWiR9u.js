import{T as Z,K as Q}from"./TextSection-CZnwLQEn.js";import{_,o as v,c as L,a as o,t as E,w as h,d as g,e as Y,g as p,h as w,b as d}from"./index-B3ElxvtG.js";import{S as J,W as tt,G as et,c as y,V as b,P as st,e as V,L as nt,B as ot,a as at,C as it,R as rt}from"./ReferenceSection-BHjAdzzK.js";const lt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20261.76%20226.69'%3e%3cpath%20d='M161.096.001l-30.225%2052.351L100.647.001H-.005l130.877%20226.688L261.749.001z'%20fill='%2341b883'/%3e%3cpath%20d='M161.096.001l-30.225%2052.351L100.647.001H52.346l78.526%20136.01L209.398.001z'%20fill='%2334495e'/%3e%3c/svg%3e",dt="/assets/lorenz-Cs6Xk34O.png",ct="/assets/smile.jpg-Ck3cSMHQ.webp",mt={props:{imgSrc:{type:String,required:!0},caption:String},computed:{imgUrl(){return new URL(Object.assign({"/src/assets/image/logo.svg":lt,"/src/assets/image/lorenz.png":dt,"/src/assets/image/smile.jpg.webp":ct})[`/src/assets/image/${this.imgSrc}`],import.meta.url).href}}},pt={class:"wrapper"},ut=["src"],ht={class:"caption"};function gt(n,t,e,a,s,r){return v(),L("div",pt,[o("img",{src:r.imgUrl},null,8,ut),o("div",ht,E(e.caption),1)])}const ft=_(mt,[["render",gt],["__scopeId","data-v-b912618b"]]),c=new J,m=new tt({alpha:!0}),u=new it,P=800,x="lorenz",zt={data(){return{camera:void 0,lorenzData:{isStarted:!1,position:{x:0,y:1,z:0},params:{sigma:10,rho:28,beta:8/3,dt:.001},time:0}}},watch:{"lorenzData.params":{handler(n){u.start(),this.clearLorenzLine()},deep:!0}},computed:{elapsedTime(){return this.lorenzData.time.toFixed(2)}},methods:{lorenz(n,t,e,a,s,r,i){const l=s*(e-t),f=t*(r-a)-e,z=t*e-i*a;return{dxdt:l,dydt:f,dzdt:z}},rk4(n,t,e,a,s,r,i,l){const{dxdt:f,dydt:z,dzdt:I}=this.lorenz(n,t,e,a,r,i,l),D=s*f,S=s*z,k=s*I,{dxdt:U,dydt:N,dzdt:F}=this.lorenz(n+.5*s,t+.5*D,e+.5*S,a+.5*k,r,i,l),C=s*U,M=s*N,T=s*F,{dxdt:O,dydt:q,dzdt:j}=this.lorenz(n+.5*s,t+.5*C,e+.5*M,a+.5*T,r,i,l),A=s*O,B=s*q,R=s*j,{dxdt:$,dydt:G,dzdt:K}=this.lorenz(n+s,t+A,e+B,a+R,r,i,l),H=s*$,W=s*G,X=s*K;return t+=(D+2*C+2*A+H)/6,e+=(S+2*M+2*B+W)/6,a+=(k+2*T+2*R+X)/6,{x:t,y:e,z:a}},animateScene(){if(this.camera){if(this.lorenzData.isStarted){const n=this.lorenzData.position,t=u.getDelta(),e=u.elapsedTime;this.lorenzData.time=e,this.lorenzData.position=this.rk4(e,n.x,n.y,n.z,t,this.lorenzData.params.sigma,this.lorenzData.params.rho,this.lorenzData.params.beta),this.addPoint(this.lorenzData.position)}m.render(c,this.camera)}},setCoordinate(){const n=new et,t=4;n.add(y({x:t,y:0},{x:-t,y:0},15146783)),n.add(y({x:0,y:-t},{x:0,y:t},2056935)),n.add(y({x:0,y:0,z:-t},{x:0,y:0,z:t},2090836)),c.add(n)},setOrbitControl(){const n=this.camera;let t=!1;document.addEventListener("mousedown",function(){t=!0}),document.addEventListener("mouseup",function(){t=!1});let e=100,a=Math.PI/2,s=Math.PI/2;this.$refs.scene.addEventListener("mousemove",function(i){if(t){let l=.005;s-=i.movementX*l,a-=i.movementY*l,a=Math.max(.01,Math.min(Math.PI-.01,a)),n.position.x=e*Math.sin(a)*Math.cos(s),n.position.y=e*Math.cos(a),n.position.z=e*Math.sin(a)*Math.sin(s),n.lookAt(new b(0,0,0))}})},initRenderer(){const n=this.$refs.scene;this.camera=new st(75,800/800,.1,1e3),this.camera.position.set(0,0,100),this.camera.lookAt(0,0,0),m.setSize(P,P),n.appendChild(m.domElement),m.render(c,this.camera),m.setClearColor(0,0),m.setAnimationLoop(this.animateScene)},addPoint(n){const t=c.getObjectByName(x),e=t.geometry.attributes.position.array,a=e.length;let s=new Float32Array(a+3);s.set(e),s[a]=n.x,s[a+1]=n.y,s[a+2]=n.z,t.geometry.setAttribute("position",new V(s,3)),t.geometry.setDrawRange(0,e.length/3),t.geometry.attributes.position.needsUpdate=!0},clearLorenzLine(){this.lorenzData.position={x:0,y:1,z:0};const n=c.getObjectByName(x);let t=new Float32Array(3);n.geometry.setAttribute("position",new V(t,3)),n.geometry.setFromPoints([new b(0,1,0)]),n.geometry.attributes.position.needsUpdate=!0},setLorenzLine(){const n=new nt({color:0}),t=new ot,e=new at(t,n);e.geometry.setFromPoints([new b(0,1,0)]),e.name=x,c.add(e)},startCalculation(){this.lorenzData.isStarted=!this.lorenzData.isStarted,this.lorenzData.isStarted?(u.start(),this.clearLorenzLine()):u.stop()}},mounted(){this.initRenderer(),this.setCoordinate(),this.setOrbitControl(),this.setLorenzLine()}},wt={class:"container"},yt={class:"nview"},bt={class:"control"},xt={class:"lorenz-param"},_t={class:"form-group"},vt={class:"form-group"},Lt={class:"form-group"},Dt={class:"form-group"},St={class:"form-group"},kt={class:"scene",ref:"scene"};function Ct(n,t,e,a,s,r){return v(),L("div",wt,[o("div",yt,[o("div",bt,[o("div",xt,[o("div",_t,[t[5]||(t[5]=o("label",null,"Time",-1)),h(o("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>r.elapsedTime=i),placeholder:"edit me",disabled:""},null,512),[[g,r.elapsedTime]])]),o("div",vt,[t[6]||(t[6]=o("label",null,"Sigma",-1)),h(o("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>s.lorenzData.params.sigma=i),placeholder:"edit me"},null,512),[[g,s.lorenzData.params.sigma]])]),o("div",Lt,[t[7]||(t[7]=o("label",null,"Beta",-1)),h(o("input",{"onUpdate:modelValue":t[2]||(t[2]=i=>s.lorenzData.params.beta=i),placeholder:"edit me"},null,512),[[g,s.lorenzData.params.beta]])]),o("div",Dt,[t[8]||(t[8]=o("label",null,"Rayleigh number",-1)),h(o("input",{"onUpdate:modelValue":t[3]||(t[3]=i=>s.lorenzData.params.rho=i),placeholder:"edit me"},null,512),[[g,s.lorenzData.params.rho]])]),o("div",St,[o("button",{class:"start-button",onClick:t[4]||(t[4]=(...i)=>r.startCalculation&&r.startCalculation(...i))},E(s.lorenzData.isStarted?"stop":"start"),1)])])]),o("div",kt,null,512)])])}const Mt=_(zt,[["render",Ct],["__scopeId","data-v-261048de"]]),Tt={class:"main-wrap"},At=Y({__name:"LorenzView",setup(n){return(t,e)=>(v(),L("main",null,[o("div",Tt,[e[5]||(e[5]=o("h1",{class:"center"},"Lorenz Equations",-1)),p(ft,{imgSrc:"lorenz.png",class:"lorenz"}),p(Z,null,{content:w(()=>[e[1]||(e[1]=d(" The Lorenz equation was originally derived to model thermal convection. It describes the motion of an incompressible fluid in a space where the temperature is higher at the top and lower at the bottom (Rayleigh-Bénard flow). This equation arises in the analysis of planetary instability, thermal convection, laser modeling, Malkus's water wheel, etc... It has also become one of the foundational examples of chaos theory, illustrating how small changes in initial conditions can lead to vastly different outcomes. The system is written as a derivative with respect to time as follows: ")),p(Q,{center:"",class:"mt-1"},{default:w(()=>e[0]||(e[0]=[d(" \\text{x}= \\left( \\begin{aligned} x \\\\ y \\\\ z \\end{aligned} \\right), F= \\left( \\begin{aligned} \\sigma (x-y) \\\\ rx - y - xz \\\\ xy - \\beta z \\end{aligned} \\right) "),o("br",{class:"mt-1"},null,-1),d(" \\dot{\\text{x}} = F \\left\\{ \\begin{array}{l} \\dot{x} = \\sigma (x-y) \\\\ \\dot{y} = rx - y - xz \\\\ \\dot{z} = xy - \\beta z \\end{array} \\right. ")])),_:1}),e[2]||(e[2]=o("p",{class:"caption mb-4"}," σ is the Prandtl number, r is the Rayleigh number and β is a geometric factor ",-1)),e[3]||(e[3]=d(" The following example uses the fourth-order Runge-Kutta method with initial point [0, 1, 0]. "))]),_:1}),p(Mt,{class:"separate mt-2"}),p(rt,{class:"mt-2"},{default:w(()=>e[4]||(e[4]=[d(" The Lorenz Equations: Bifurcations, Chaos, and Strange Attractors (Applied Mathematical Sciences, Vol. 41)"),o("br",null,null,-1),d(" https://www2.physics.ox.ac.uk/sites/default/files/profiles/read/lect6-43147.pdf"),o("br",null,null,-1),d(" https://mathworld.wolfram.com/LorenzAttractor.html "),o("br",null,null,-1),d(" https://mathworld.wolfram.com/LorenzEquations.html"),o("br",null,null,-1),d(" https://mathworld.wolfram.com/Runge-KuttaMethod.html"),o("br",null,null,-1)])),_:1})])]))}}),Pt=_(At,[["__scopeId","data-v-9d52bda5"]]);export{Pt as default};
